<!doctype html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:url"           content="https://debamitro.github.io/blog/two-cases-of-prompts-which-donot-work/" />
<meta property="og:type"          content="website" />
<meta property="og:title"         content="Two Cases of Prompts Which Don&#39;t Work" />
<meta property="og:description"   content="Two Cases of Prompts Which Don&#39;t Work" />

    <title>
      Two Cases of Prompts Which Don&#39;t Work
    </title>
        <link rel="stylesheet" type="text/css" href="https://debamitro.github.io//css/normalize.css" />
    <link rel="stylesheet" type="text/css" href="https://debamitro.github.io//css/style.css" />

    <script src="https://debamitro.github.io//js/onready.js"></script>
    <script src="https://debamitro.github.io//js/transformtextnodes.js"></script>
    <script src="https://debamitro.github.io//generate-bangla-utf8-cljs-demo/target/out.js"></script>
    <script>
      ready(transformtextnodes(generate_bangla_utf8_cljs.converter.to_bangla_utf8));
    </script>
        
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-TT65MZJG4S"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      
      gtag('config', 'G-TT65MZJG4S');
    </script>


<script>
  async function getPageViews() {
    const pageViewsArea = document.querySelector('#pageViews');
    if (pageViewsArea) {
      try {
        const path = '\/blog\/two-cases-of-prompts-which-donot-work';
        const finalPath = path.endsWith('/') ? path : path + '/';
        const response = await fetch('https://simple-ga-stats.onrender.com/api/v1?site=debamitro.github.io&page=' + encodeURIComponent(finalPath));
        const data = await response.json();
        if (data.success) {
          pageViewsArea.textContent = data.data[0].sessions + ' views';
        }
      } catch (error) {
        console.error('Error fetching page views:', error);
      }
    }
  }
  
 window.addEventListener('load', getPageViews);
</script>

    
    
    <script src="https://debamitro.github.io//js/external-links.js"></script>
  </head>
  <body>
    
    <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

    <div id="fb-root"></div>
    <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v22.0"></script>
  
    <div class="my-menu-bar">
  <ul class="my-menu">
    <li class="my-menu-item">
      <a href="https://debamitro.github.io/" class="my-menu-item-link">Home</a>
    </li>
    
    <li class="my-menu-item">
      <a href="/projects/" class="my-menu-item-link">Projects</a>
    </li>
    
    <li class="my-menu-item">
      <a href="/blog/" class="my-menu-item-link">Blog</a>
    </li>
    
    <li class="my-menu-item">
      <a href="/about/" class="my-menu-item-link">About</a>
    </li>
    
    <li class="my-menu-item">
      <a href="https://x.com/debamitro" class="my-menu-item-link" target="_blank"><img src="https://debamitro.github.io//images/x-logo-white.png" /></a>
    </li>
    <li class="my-menu-item">
      <a href="https://github.com/debamitro" class="my-menu-item-link" target="_blank"><img src="https://debamitro.github.io//images/github-mark-white.png" /></a>
    </li>
  </ul>
</div>

    <div class="my-page-container">
      <div class="my-page-head">
        Two Cases of Prompts Which Don&#39;t Work
      </div>
      <hr />
      <div class="my-page-date">
        February 11, 2025
      </div>
      <div class="my-page-visits">
        <svg class="analytics-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16">
          <path fill="currentColor" d="M3 3v18h18v-2H5V3H3zm14 12l-4-4-4 4-4-4v3l4 4 4-4 4 4v-3z"/>
        </svg>
        <span id="pageViews"></span>
      </div>
      <div class="my-page-tags">
        Tags:
        
          
            <a href="/tags/ai" class="tag-link">ai</a>, 
            <a href="/tags/prompt" class="tag-link">prompt</a>, 
            <a href="/tags/v0" class="tag-link">v0</a>, 
            <a href="/tags/windsurf" class="tag-link">windsurf</a>, 
            <a href="/tags/codapt" class="tag-link">codapt</a>, 
            <a href="/tags/cline" class="tag-link">cline</a>
        
      </div>
      <div class="my-page-content">
        <p>After a couple of months of coding using AI prompts, I found two cases where a particular prompt doesn&rsquo;t work. Maybe they&rsquo;ll start working sometime soon. Or, it is possible that they work with a different AI coding tool or LLM other than the ones I tried.</p>
<h2 id="case-i">Case I</h2>
<p>I have started to use <a href="https://clerk.com">Clerk</a> for user authentication. It is really easy to use, but I have bumped into one small problem everytime I asked <a href="https://codeium.com/windsurf">Windsurf</a> to add Clerk authentication in a project.</p>
<p>Here is what it generates in the middleware.ts file:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">authMiddleware</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;@clerk/nextjs&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">authMiddleware</span>({
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Routes that can be accessed while signed out
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">publicRoutes</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#34;/&#34;</span>, <span style="color:#e6db74">&#34;/sign-in&#34;</span>, <span style="color:#e6db74">&#34;/sign-up&#34;</span>],
</span></span><span style="display:flex;"><span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">config</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">matcher</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#34;/((?!.+\\.[\\w]+$|_next).*)&#34;</span>, <span style="color:#e6db74">&#34;/&#34;</span>, <span style="color:#e6db74">&#34;/(api|trpc)(.*)&#34;</span>],
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p>This might have worked with the previous version of Clerk, but not the latest version. The correct contents of the middleware.ts file should be something like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">clerkMiddleware</span>, <span style="color:#a6e22e">createRouteMatcher</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;@clerk/nextjs/server&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">isProtectedRoute</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">createRouteMatcher</span>([<span style="color:#e6db74">&#39;/dashboard&#39;</span>])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">clerkMiddleware</span>(<span style="color:#66d9ef">async</span> (<span style="color:#a6e22e">auth</span>, <span style="color:#a6e22e">req</span>) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">isProtectedRoute</span>(<span style="color:#a6e22e">req</span>)) <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">auth</span>.<span style="color:#a6e22e">protect</span>()
</span></span><span style="display:flex;"><span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">config</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">matcher</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#34;/((?!.+\\.[\\w]+$|_next).*)&#34;</span>, <span style="color:#e6db74">&#34;/&#34;</span>, <span style="color:#e6db74">&#34;/(api|trpc)(.*)&#34;</span>],
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p>In fact, <a href="https://clerk.com/docs/upgrade-guides/nextjs/v6#removed-deprecated-apis">Clerk&rsquo;s documentation</a> also says that authMiddleware is deprecated. I tried using a bunch of other AI coding tools (<a href="https://cline.bot">Cline</a> and <a href="https://codapt.ai">Codapt</a> ) as well and they all make the same mistake. It is possible that I was using the same LLM for all of these tools (Claude 3.5 Sonnet) and that was trained with code using the previous version of Clerk.</p>
<h2 id="case-ii">Case II</h2>
<p>I have started using <a href="https://v0.dev">v0</a> for frontend-only tasks. The first time I did this was for creating <a href="http://debamitro.github.io/presentations/codepromptfu-020225/">a presentation</a> two weeks ago. I really liked the result so much that I put the code on a <a href="https://github.com/debamitro/nextjs-hacker-theme-presentation">github repo</a>.</p>
<p>The way I generated it was by using the following four prompts in succession:</p>
<ol>
<li>can you generate a presentation with 10 slides</li>
<li>can you make the theme look like hackers</li>
<li>can I add images to any of the slides?</li>
<li>can you allow cursor keys to move from one slide to the next?</li>
</ol>
<p>In my <a href="/blog/building-a-collection-of-coding-prompts">quest for finding concise prompts with maximum bang for the buck</a>, I tried to club everything together, and told v0:</p>
<p>&lsquo;Can you generate a presentation with 10 slides. Make the theme look like hackers. Allow adding images to any of the slides. Also please allow cursor keys to move from one slide to the next&rsquo;</p>
<p>This did not produce any working result. So I backed down a bit and said:</p>
<p>&lsquo;can you generate a presentation with 10 slides which has a hacker theme&rsquo;.</p>
<p>Even this didn&rsquo;t work. My last attempt was to use two prompts in succession:</p>
<ol>
<li>can you generate a presentation with 10 slides</li>
<li>can you make the theme look like hackers</li>
</ol>
<p>This worked! And it had a slightly different look than the original one. But it was 100% hacker-ish.</p>
<img src="/images/presentation_smaller_021125.gif" />
<h2 id="conclusion">Conclusion</h2>
<p>The first case is a general problem of LLMs getting trained with outdated information. I don&rsquo;t know enough to comment about it.</p>
<p>The second case is, in my opinion, expected behaviour. The LLMs used in AI coding tools are like junior engineers with a few years of experience. From my engineering management experience I know that you need to give out tasks in small chunks to junior engineers, otherwise they tend to make more mistakes. I have mostly had excellent results working with AI coding tools, because I treat them like junior engineers in my team.</p>

      </div>
      
      <div class="tweet-button-container">
        <div style="float:left">
        <a href="https://twitter.com/share?ref_src=twsrc%5Etfw" 
           class="twitter-share-button" 
           data-text="Two Cases of Prompts Which Don&#39;t Work" 
           data-via="debamitro" 
           data-hashtags="ai,prompt,v0,windsurf,codapt,cline" 
           data-show-count="false">
          Share on X
        </a>
        </div>
        <div style="float:left; margin-left: 5px">
         <div class="fb-share-button" data-href="https://debamitro.github.io/blog/two-cases-of-prompts-which-donot-work/" data-layout="button" data-size="small">
          <a target="_blank" 
          href="https://www.facebook.com/sharer/sharer.php?u=https%2f%2fdebamitro.github.io%2fblog%2ftwo-cases-of-prompts-which-donot-work%2f&amp;src=sdkpreparse" 
          class="fb-xfbml-parse-ignore">
          Share on Facebook
        </a>
        </div>
        </div>
      </div>

    </div>

    <div class="my-bottom-bar">
  Made using <a href="https://gohugo.io" target="_blank">Hugo</a>
  (<a href="https://www.github.com/debamitro/debamitro.github.io/tree/master/src" target="_blank">source</a>)
</div>

  </body>

</html>
